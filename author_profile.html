<!DOCTYPE html>
<html lang="en">
<head>

    <!--————————————————————————————————————————————————————————-->
    <!--——————————————————[ PAGE-INFORMATION ]——————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <title>OpenProfile 5 Preview</title>
    <link rel="icon" href="/media/icons/openprofile_logo.svg" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes">

    <!-- Dynamic domain -->
    <base href="">

    <!--————————————————————————————————————————————————————————-->
    <!--—————————————————————[ META-TAGS ]——————————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="OpenProfile 5" />
    <meta property="twitter:creator" content="@OpenProfileApp" />
    <meta property="og:description" content="Author hasn't set a bio." />
    <meta property="og:image" content="https://raw.githubusercontent.com/OpenProfileApp/OP5-Preview/web/media/images/openprofile/openprofile_logo_512_jpeg.jpeg" />
    <meta property="og:url" content="https://preview.openprofile.app" />
    <meta property="theme-color" content="#e5b432" />

    <!--————————————————————————————————————————————————————————-->
    <!--————————————————————[ STYLESHEETS ]—————————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <link rel="stylesheet" type="text/css" href="/author_profile_desktop.css">
    <!--<link rel="stylesheet" type="text/css" href="mobile_styles.css">-->
    <!--<link rel="stylesheet" type="text/css" media="print" href="print_styles.css">-->
</head>
<body>

    <!--————————————————————————————————————————————————————————-->
    <!--————————————————————[ BASE-SCRIPTS ]————————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <script src="/scripts/clear_cache.js" type="text/javascript"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="/scripts/google_api.js"></script>
    <script src="/scripts/account/login.js"></script>
    <script src="/scripts/countrycodes.js"></script>
    <!--<script src="/scripts/discord/activity/activity_main.js"></script>-->
    <script src="/scripts/discord/assistant/events/view_profile.js"></script>
    <script src="/scripts/scheme_manager_profile.js"></script>
    <script src="/scripts/seasonal_changes.js"></script>
    <script src="/scripts/banner.js"></script>
    <script src="/scripts/onload_page.js"></script>
    
    <!--————————————————————————————————————————————————————————-->
    <!--——————————————————[ POP-UP-ELEMENTS ]———————————————————-->
    <!--————————————————————————————————————————————————————————-->

    <div id="login_register_account_manager">
        <div class="information_text" id="registrationMessage" style="top: 59%; font-size: 9px; z-index: 4999; display: none;"></div>
    </div>

    <!--————————————————————————————————————————————————————————-->
    <!--——————————————————[ BANNER-ELEMENTS ]———————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <div class="banner" id="banner_0">
        <div class="banner_text" id="banner_0_text">Introducing a brand new ui alongside a bunch of backend bug fixes! New ones too...</div>
        <div class="banner_close" id="banner_0_close">
            <img src="/media/icons/feather_icons/x.svg" style="position: relative; top: 24px; right: 24px; scale: 1; transform-origin: top left; z-index: 3000;">
        </div>
    </div>

    <!--————————————————————————————————————————————————————————-->
    <!--————————————————————[ TOP-ELEMENTS ]————————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <div class="top">
        <img id="openprofile_title_logo" src="/media/icons/openprofile_logo.svg" style="position: absolute; height: 36px; margin: 6px;">
        <p id="openprofile_title_text" style="position: absolute; color: #ffffff; opacity: 1; font-family: NotoSans-Bold; left: 48px; top: -16px; font-size: 18px;">OpenProfile 5</p>
        <p id="openprofile_version_text" style="position: absolute; color: #ffffff; opacity: 1; font-family: NotoSans-Medium; left: 48px; top: 14px; font-size: 12px;">Version failed to load...</p>

        <a class="top_button" id="premium_button" href="https://ko-fi.com/openprofile" target="_blank" style="background: #cfa715; border-radius: 25px; text-indent: 32px; margin-left: 192px; color: #ffffff;;">Go Premium
            <img src="/media/icons/openprofile_logo.svg" style="position: absolute; left: 0px; height: 28px; transform-origin: top left; margin: 2px;">
        </a>
        <a class="top_button" id="app_button" href="https://openprofile.app" style="background: #ce1616; border-radius: 25px; text-indent: 32px; margin-left: 0px; color: #ffffff">Launch OpenProfile
            <img src="/media/icons/openprofile_logo.svg" style="position: absolute; left: 0px; height: 28px; transform-origin: top left; margin: 2px;">
        </a>

        <div class="control_button" id="login_register_account">
            <img class="icon" id="icon_account" src="/media/icons/feather_icons/user.svg" style="scale: 0.24; transform-origin: top left; margin: 4px; opacity: 0.8;">
            <div class="label_top" id="label_top_account">Account</div>
            <script src="/scripts/account/login.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
        </div>
        <div class="control_button" id="button_scheme">
            <img class="icon" id="icon_scheme" src="/media/icons/feather_icons/droplet.svg" style="scale: 0.24; transform-origin: top left; margin: 4px;">
            <div class="notification_dot"></div>
            <div class="label_top">Schemes</div>
        </div>
        <div class="control_button" style="width: min-content; border-radius: 100px;">
            <img class="icon" src="/media/icons/feather_icons/mail.svg" style="position: absolute; scale: 0.24; transform-origin: top left; margin-top: 4px; margin-left: 5px;">
            <div class="notification_count" id="mail_count">0</div>
            <div class="notification_dot"></div>
            <div class="label_top">Messages</div>
        </div>
        <div class="control_button" style="width: min-content; border-radius: 100px;">
            <img class="icon" src="/media/icons/feather_icons/bell.svg" style="position: absolute; scale: 0.24; transform-origin: top left; margin: 4px;">
            <div class="notification_count" id="notif_count" style="transform: translateX(-2px);">0</div>
            <div class="notification_dot"></div>
            <div class="label_top">Notifications</div>
        </div>
        <div class="control_button" style="width: min-content; border-radius: 100px;">
            <img class="icon" src="/media/icons/feather_icons/inbox.svg" style="position: absolute; scale: 0.22; transform-origin: top left; margin: 5px;">
            <div class="notification_count" id="notif_count" style="transform: translateX(-2px);">0</div>
            <div class="notification_dot"></div>
            <div class="label_top">Tickets</div>
        </div>
        <div class="control_button" style="width: min-content; border-radius: 100px;">
            <img class="icon" src="/media/icons/feather_icons/flag.svg" style="position: absolute; scale: 0.22; transform-origin: top left; margin: 5px;">
            <div class="notification_count" id="notif_count" style="transform: translateX(-2px);">0</div>
            <div class="notification_dot"></div>
        <div class="label_top">Reports</div>
        </div>
        <div class="control_button" id="user_check_hello">
            <img class="icon" id="icon_wave" src="/media/icons/media_icons/discord.svg" style="width: 20px; transform-origin: top left; margin-top: 8px; margin-left: 6px; opacity: 0.8;">
            <div class="label_top">Wave</div>
            <script src="/scripts/wave.js"></script>
            <script src="/scripts/discord/assistant/commands/check.js"></script>
        </div>

        <!--————————————————————————————————————————————————————————-->
        <!--——————————————————[ SCHEMES-MANAGER ]———————————————————-->
        <!--————————————————————————————————————————————————————————-->
        <!-- The scheme manager (class="schemes_manager") and the
        scheme layer (class="schemes_layer") HTML is managed by the
        scheme manager script which can be found under the following
        path (src="/scripts/scheme_manager_profile.js") -->
        <div class="schemes_manager" style="right: 6px;"></div>
        <div class="schemes_layer"></div>
    </div>
    
    <!--————————————————————————————————————————————————————————-->
    <!--———————————————————[ LEFT-ELEMENTS ]————————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <div class="left">
        <div class="side_lower_button">
            <img class="icon" src="/media/icons/feather_icons/shield.svg" style="scale: 0.44; transform-origin: top left; margin: 10px; opacity: 0.35;">
            <div class="label_left">Moderate</div>
            <div class="tag">PREVIEW</div>
        </div>
        <div class="side_lower_button">
            <img class="icon" src="/media/icons/feather_icons/settings.svg" style="scale: 0.44; transform-origin: top left; margin: 10px; opacity: 0.35;">
            <div class="label_left">Settings</div>
            <div class="tag">PREVIEW</div>
        </div>
    </div>

    <!--————————————————————————————————————————————————————————-->
    <!--——————————————————[ PROFILE-ELEMENTS ]——————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <div class="profile_info" id="profile_info"></div>
    <script>
        // Extract username from current URL
        const username = window.location.pathname.split('/').pop();
    
        fetch(`/data/author/${username}.json`)
            .then(response => {
                if (!response.ok) {
                    throw new Error('User data not found');
                }
                return response.json();
            })
            .then(data => {
                // Update profile information
                const profileInfo = document.getElementById('profile_info');
                document.title = `OpenProfile 5 - ${data.username}`;
                document.querySelector('meta[property="og:title"]').setAttribute('content', `OpenProfile 5 - ${data.username}`);

                profileInfo.innerHTML = `
                    <img src="/media/images/openprofile/openprofile_logo_512_jpeg.jpeg" style="width: 128px; height: 128px; border-radius: 50%; margin-bottom: 16px; margin-top: 16px;">
                    <p style="font-size: 48px; font-family: NotoSans-Bold; transform: translateY(-68px);">${data.username}</p><br>
                    <p style="font-size: 24px; font-family: NotoSans-Medium; transform: translateY(-164px);">@${data.username}</p>
                    <p style="font-size: 24px; font-family: NotoSans-Medium; transform: translateY(-20px);">Joined ${data.todayDate}</p>
                `;
            })
            .catch(error => console.error('Error fetching JSON:', error));
    </script>    

    <!--————————————————————————————————————————————————————————-->
    <!--—————————————————[ DEVELOPER-ELEMENTS ]—————————————————-->
    <!--————————————————————————————————————————————————————————-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
    <script src="/scripts/id_generator.js"></script>
    <script src="/scripts/translate.js"></script>


<!--<button style="z-index: 500; position: absolute; top: 0; left: 0;" id="discord">Send Message to Discord</button>
<script>
    const discordButton = document.getElementById('discord');

    discordButton.addEventListener('click', () => {
        // Send a POST request to your server to trigger sending the message to Discord
        fetch('/send-message-to-discord', {
            method: 'POST',
        })
            .then(response => response.json())
            .then(data => {
                console.log(data.message);
            })
            .catch(error => {
                console.error(error);
            });
    });
</script>-->

<!--<script>
    // Create a WebSocket connection to the server
const socket = new WebSocket('ws://localhost:3000');

// Listen for WebSocket messages
socket.addEventListener('message', (event) => {
    const newText = event.data;
    
    // Update the page_author_0 textbox with the received text
    document.getElementById('page_author_0').value = newText;
});


<li id="theme_option" style="opacity: 0.35;">🎨 Change Scheme ></li>
        <div id="themeSubMenu" class="menu" style="scale: 100%;">
            <script src="/scripts/menus/theme_menu.js"></script>
            <ul>
            <li id="release" style="opacity: 0.35;">🔴 Release</li>
            <li id="beta" style="opacity: 0.35;">🔵 Beta</li>
            <li id="preview" style="opacity: 0.35;">🟣 Preview</li>
            <li>
                <label for="fileInput" id="labelCustomStyles" style="opacity: 0.35;">⚪ Import Custom</label>
                <input type="file" id="customStyleInput" name="fileInput" style="display: none;">
            </li>
            </ul>
            <script src="/scripts/theme_changer.js"></script>
        </div>-->

</script>

    <div class="history_popup">
        <!-- History content will be added here -->
    </div>



    <script>
        // Check if the user is already logged in
const loggedInUser = localStorage.getItem('loggedInUser') || sessionStorage.getItem('loggedInUser');

// Reference to the logout button
const logoutButton = document.getElementById('logoutButton');

if (loggedInUser) {
    // User is logged in
    // Show the logout button
    logoutButton.style.display = 'block';

    // Add a click event listener to the logout button
    logoutButton.addEventListener('click', () => {
        // Clear the stored user data (log out the user)
        localStorage.removeItem('loggedInUser');
        sessionStorage.removeItem('loggedInUser');
        const styleSheetLink = document.getElementById('styleSheet');
        styleSheetLink.href = 'desktop_styles.css';

        // Redirect the user to the login page
        window.location.href = 'login.html';
    });
} else {
    // User is not logged in
    // Hide the logout button
    logoutButton.style.display = 'none';
    const styleSheetLink = document.getElementById('styleSheet');
    styleSheetLink.href = 'mobile_styles.css';
}

    </script>
</body>
</html>

  <!--————————————————————————————————————————————————————————-->
  <!--——————————————————[ BOTTOM-ELEMENTS ]———————————————————-->
  <!--————————————————————————————————————————————————————————-->
  <!--<div class="bottom">
    <div style="text-align: right; font-size: 12px; transform: translateX(-16px) translateY(2px);">
        <a id="version_placeholder" style="color: #ffffff;" href="https://www.example.com/OP5-Preview"></a>
    </div>
  </div>

————————————————————————————————————————————————————————
————————————————————[ TOP-ELEMENTS ]————————————————————
————————————————————————————————————————————————————————
  <div class="top">
    <div class="top_button" id="console_tab" style="width: 36px; top: 12px; left: 37px; scale: 3; z-index: 61;">
      <div class="label_tab" id="console_tab_text" style="width: 36px; top: 1.25px;">Console</div>
    </div>
    <div class="console" id="console">
      <p style="color: white; transform: translateX(5px)translateY(-13px); font-size: 14px;">———————————————[ OPENPROFILE-DEVELOPER-CONSOLE ]———————————————</p>
      <div class="log_entry" id="console_log"></div>
    </div>
    <script src="/scripts/console.js"></script>
    <div class="top_button" id="saveButton" style="width: 26px; top: 12px; left: 140px; scale: 3; z-index: 61;">
      <div class="label_tab" style="width: 26px; top: 1.25px;">Save</div>
    </div>
  </div>-->